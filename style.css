/* CSS Styles */
:root{--wa-header-bg:#FF0055;--wa-accent-blue:#34B7F1;--wa-message-out-bg:#FFF4DF;--wa-message-in-bg:#A5F1F6;--wa-app-bg:#AA00FF;--wa-chat-bg:#0000ff;--wa-icon-color:#f0f2f5;--wa-text-primary:#111b21;--wa-text-secondary:#667781;--wa-border-color:#EFD1D4;--wa-active-tab-indicator:var(--wa-accent-blue);--wa-button-color:#00FF55;--wa-link-color:#00a8e8;--wa-shadow:rgba(17,27,33,0.15);--call-end-red:#e91e63;--modal-bg:#FBE8ED;--modal-border-radius:20px;--modal-shadow:12px 12px 24px #bebebe, -12px -12px 24px #ffffff;}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Roboto',sans-serif;}
html,body{width:100%;height:100%;overflow:hidden;background-color:#d1d7db;display:flex;align-items:center;justify-content:center;color:var(--wa-text-primary);}
.hidden{display:none!important;}
::-webkit-scrollbar{width:6px;}
::-webkit-scrollbar-track{background:#f1f1ff;}
::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:6px;}
::-webkit-scrollbar-thumb:hover{background:#a8a8a8;}
#app-container{width:100%;height:100%;max-width:450px;max-height:950px;background-color:var(--wa-app-bg);border-radius:8px;box-shadow:0 4px 12px var(--wa-shadow);display:flex;flex-direction:column;overflow:hidden;position:relative;}

/* View Update for Mobile Height Fix */
.view{width:100%;height:100dvh;display:flex;flex-direction:column;background-color:var(--wa-app-bg);position:absolute;top:0;left:0;transition:transform 0.3s ease,opacity 0.3s ease; overflow: hidden;}
.view.hidden{transform:translateX(100%);opacity:0;pointer-events:none;}
#auth-view.hidden{transform:scale(0.9);opacity:0;}
.view:not(.hidden){transform:translateX(0);opacity:1;}
.icon-btn{background:none;border:none;cursor:pointer;padding:8px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;}
.icon-btn svg{width:24px;height:24px;fill:var(--wa-icon-color);}
.icon-btn:hover{background-color:rgba(255,255,255,0.1);}
#auth-view{justify-content:center;align-items:center;padding:20px;gap:20px;background:#f0f2f5;z-index:50;}
.auth-form-container{width:100%;max-width:380px;background:#f0f2f5;padding:30px;border-radius:20px;box-shadow:12px 12px 24px #bebebe,-12px -12px 24px #ffffff;}
#auth-view h1{color:#444;font-size:2rem;font-weight:700;text-align:center;margin-bottom:8px;}
.auth-developer-subtitle{color:#555;font-size:1rem;font-weight:400;text-align:center;margin-bottom:20px;letter-spacing:0.5px;}
.auth-form{display:flex;flex-direction:column;width:100%;gap:20px;}
.auth-form input{border:none;outline:none;background:#f0f2f5;padding:15px 20px;border-radius:10px;font-size:1rem;color:#555;box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;}
.auth-form input:focus{box-shadow:inset 4px 4px 8px #bebebe,inset -4px -4px 8px #ffffff;}
.auth-btn{padding:15px;background:#f0f2f5;color:#555;border:none;outline:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:6px 6px 12px #bebebe,-6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;}
.auth-btn:hover{box-shadow:8px 8px 16px #bebebe,-8px -8px 16px #ffffff;}
.auth-btn:active{box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;color:#333;}
.auth-link{color:#555;text-decoration:none;font-size:0.9rem;text-align:center;cursor:pointer;margin-top:10px;}
.auth-link:hover{text-decoration:underline;}
.error-message{color:var(--call-end-red);font-size:0.9rem;text-align:center;min-height:1.2em;display:none;}
#main-view{z-index:10;}
.main-header{background-color:var(--wa-header-bg);color:var(--wa-icon-color);flex-shrink:0;}
.header-top{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;}
.header-top h1{font-size:1.4rem;font-weight:500;}
.header-top-icons{display:flex;gap:8px;}
.header-nav{display:flex;justify-content:space-around;background-color:var(--wa-header-bg);}
.nav-tab{flex:1;text-align:center;padding:14px 0;font-size:1rem;font-weight:500;color:rgba(240,242,245,0.7);cursor:pointer;position:relative;border-bottom:3px solid transparent;transition:color 0.2s,border-bottom-color 0.2s;}
.nav-tab.active{color:var(--wa-accent-blue);border-bottom-color:var(--wa-active-tab-indicator);}
.badge{position:absolute;top:10px;right:20%;background-color:var(--wa-accent-blue);color:white;font-size:0.75rem;font-weight:500;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;line-height:1;padding-top:1px;}
#main-content{flex:1;overflow-y:auto;position:relative;}
.content-panel{width:100%;height:100%;position:absolute;background:#fff;}
.content-panel:not(.active){display:none;}
#home-content.active{display:flex;flex-direction:column;}
.list-item{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid var(--wa-border-color);cursor:pointer;position:relative;overflow:hidden;background-color:#fff;transition:background-color 0.2s;}
.list-item:hover{background-color:var(--wa-app-bg);}
.item-emoji{font-size:2.5rem;margin-right:12px;background:var(--wa-border-color);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;line-height:1;overflow:hidden;}
.item-emoji img{width:100%;height:100%;object-fit:cover;}
.item-emoji span{font-size:2.5rem;line-height:1;user-select:none;color:var(--wa-text-secondary);}
.item-details{flex:1;overflow:hidden;}
.item-name{font-size:1.1rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.item-subtext{font-size:0.9rem;color:var(--wa-text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.item-actions{display:flex;flex-direction:column;align-items:flex-end;gap:4px;font-size:0.8rem;color:var(--wa-text-secondary);}
.item-actions .badge{position:static;}

/* CHAT VIEW UPDATES FOR FIXED HEADER */
#chat-view{background-color:var(--wa-chat-bg);z-index:60;height:100dvh;}
.chat-header{display:flex;align-items:center;gap:8px;background-color:var(--wa-header-bg);color:var(--wa-icon-color);padding:10px;flex-shrink:0;z-index:10;width:100%;}
.chat-contact-info{display:flex;align-items:center;gap:10px;flex:1;cursor:pointer;}
.chat-contact-info .item-emoji{width:40px;height:40px;font-size:1.8rem;margin-right:0;}
.chat-contact-details .item-name{color:var(--wa-icon-color);font-size:1.1rem;}
.chat-contact-details .item-subtext{color:rgba(240,242,245,0.8);font-size:0.8rem;}

/* Added to ensure buttons sit nicely next to each other */
.chat-header-icons { display: flex; gap: 10px; }

/* Messages area scrollable */
#chat-messages{flex:1 1 auto; overflow-y:scroll; padding:16px; display:flex; flex-direction:column; gap:8px; background-image:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23bdbdbd' fill-opacity='0.15' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E"); overscroll-behavior: contain;}
.message-bubble{padding:8px 12px;border-radius:12px;max-width:75%;word-wrap:break-word;box-shadow:0 1px 1px var(--wa-shadow);position:relative;user-select:none;-webkit-user-select:none;}
.message-sent{align-self:flex-end;background-color:var(--wa-message-out-bg);border-top-right-radius:4px;}
.message-received{align-self:flex-start;background-color:var(--wa-message-in-bg);border-top-left-radius:4px;}
.message-content-wrapper{display:flex;align-items:flex-end;}
.message-text{margin-right:4px;white-space:pre-wrap;word-break:break-word;display:inline-block;}
.message-time-status{display:flex;align-items:center;font-size:0.75rem;color:var(--wa-text-secondary);user-select:none;line-height:1;margin-left:8px;flex-shrink:0;}
.message-status-icon{width:14px;height:14px;margin-left:4px;fill:var(--wa-text-secondary);}
.message-status-icon.seen{fill:var(--wa-accent-blue);}
/* Sending Animation */
.message-status-icon.sending {fill: #888; animation: spin 1s linear infinite; transform-origin: center;}
@keyframes spin { 100% { transform: rotate(360deg); } }

/* Chat Input Fixed */
#chat-input-container{display:flex;align-items:center;gap:8px;padding:8px 12px;background-color:var(--wa-app-bg);flex-shrink:0;width:100%;}
#chat-input{flex:1;padding:12px 18px;border:none;border-radius:24px;font-size:1rem;height:48px;resize:none;overflow-y:auto;font-family:'Roboto',sans-serif;}
#chat-input:focus{outline:none;}
#chat-send-btn, #voice-record-btn{background-color:var(--wa-button-color);border-radius:50%;padding:12px;transition:background-color 0.2s;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;}
#chat-send-btn:hover, #voice-record-btn:hover{background-color:#006652;}
#chat-send-btn svg, #voice-record-btn svg{fill:white;width:20px;height:20px;}
#chat-send-btn:disabled, #voice-record-btn:disabled {background-color: #ccc; cursor: not-allowed;}
#recording-ui{display:flex;align-items:center;background:#fff;padding:5px 15px;border-radius:20px;margin-right:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);flex:1;}
.recording-dot{width:10px;height:10px;background-color:red;border-radius:50%;margin-left:8px;animation:blink 1s infinite;}
@keyframes blink{0%{opacity:1;}50%{opacity:0;}100%{opacity:1;}}
.audio-player{width:200px;height:40px;}
#chat-input-container.recording #chat-input{display:none;}
#chat-input-container.recording #voice-record-btn{background-color:#ffdddd;}
#chat-input-container.recording #voice-record-btn svg{fill:red;}
#audio-preview-container {display:flex;align-items:center;background:#fff;padding:5px 10px;border-radius:24px;flex:1;gap:10px;box-shadow:0 1px 3px rgba(0,0,0,0.1);}
#audio-preview-container.hidden {display:none;}
#preview-audio-player {flex:1;height:35px;width:100%;}
#delete-recording-btn {background:none;border:none;cursor:pointer;padding:8px;color:var(--call-end-red);display:flex;align-items:center;justify-content:center;}
#delete-recording-btn svg {fill:var(--call-end-red);width:20px;height:20px;}
/* MEDIA STYLES - PERMANENT VIEW */
.media-bubble {display:flex;align-items:center;gap:10px;padding:8px;background:rgba(0,0,0,0.05);border-radius:10px;cursor:pointer;min-width: 150px;}
.media-text {font-weight:500;color:var(--wa-text-primary);}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:1000;max-width:450px;max-height:950px;margin:auto;}
.modal-content{background:var(--modal-bg);padding:30px;border-radius:var(--modal-border-radius);width:90%;max-width:380px;box-shadow:var(--modal-shadow);display:flex;flex-direction:column;gap:20px;transform:scale(1);transition:transform 0.3s ease-out;color:#555;border:none;}
.modal.hidden .modal-content{transform:scale(0.95);opacity:0;}
.modal-content h2{font-size:1.6rem;color:#444;text-align:center;font-weight:700;margin-bottom:10px;}
.modal-content form{display:flex;flex-direction:column;gap:20px;}
.modal-content input{padding:15px 20px;border:none;outline:none;background:#f0f2f5;border-radius:10px;font-size:1rem;color:#555;box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;}
.modal-content input:focus{box-shadow:inset 4px 4px 8px #bebebe,inset -4px -4px 8px #ffffff;}
.modal-content button{padding:15px;background:#f0f2f5;color:#555;border:none;outline:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:6px 6px 12px #bebebe,-6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;}
.modal-content button:hover{box-shadow:8px 8px 16px #bebebe,-8px -8px 16px #ffffff;}
.modal-content button:active{box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;color:#333;}
.modal-content button[type="submit"], #profile-save-name-btn{color:var(--wa-button-color);}
.modal-content .close-modal-btn{color:#555;}
#logout-btn, #partner-modal-delete-chat-btn, #partner-modal-block-btn{color:var(--call-end-red);}
.modal-content p{font-size:1rem;color:#666;text-align:center;}
#profile-view-content{gap:25px;}
.profile-info-frame, .profile-id-frame, .profile-blocked-frame{display:flex;flex-direction:column;align-items:center;gap:15px;padding:20px;background:#f0f2f5;border-radius:15px;box-shadow:8px 8px 16px #bebebe, -8px -8px 16px #ffffff;width:100%;}
.profile-id-frame{align-items:stretch;}
#profile-pic-wrapper{font-size:4.5rem;width:110px;height:110px;margin:0;cursor:pointer;color:var(--wa-text-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;}
#profile-pic-wrapper:active{box-shadow:inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;}
#profile-pic-wrapper span{font-size:4.5rem;}
.profile-name-wrapper{display:flex;align-items:center;gap:10px;}
#profile-view-name{font-size:1.8rem;font-weight:700;word-break:break-all;display:flex;align-items:center;color:#444;}
#profile-edit-name-btn{background:#f0f2f5;padding:8px;border-radius:50%;border:none;cursor:pointer;display:flex;box-shadow:5px 5px 10px #bebebe, -5px -5px 10px #ffffff;color:#555;}
#profile-edit-name-btn:active{box-shadow:inset 3px 3px 6px #bebebe, inset -3px -3px 6px #ffffff;}
#profile-edit-name-btn svg{fill:#555;width:16px;height:16px;}
#profile-edit-name-form{display:flex;gap:8px;margin-top:5px;width:100%;}
#profile-name-input{flex:1;padding:10px;border:none;border-radius:8px;font-size:1rem;}
#profile-save-name-btn{padding:8px 15px;font-size:0.9rem;}
#profile-view-email{font-size:1rem;color:#777;}
.id-wrapper,.email-wrapper{display:flex;align-items:center;justify-content:space-between;width:100%;padding:5px 0;}
.id-text-wrapper,.email-text-wrapper{display:flex;flex-direction:column;gap:2px;overflow:hidden;}
.id-text-wrapper p,.email-text-wrapper p{font-size:0.8rem;color:#777;text-align:left;}
#profile-user-id-text,#profile-user-email-text{font-size:0.95rem;font-weight:500;color:#444;word-break:break-all;}
#profile-copy-id-btn, #profile-copy-email-btn, #partner-modal-copy-id-btn{background:#f0f2f5;border-radius:50%;padding:10px;cursor:pointer;flex-shrink:0;margin-left:12px;border:none;transition:all 0.2s ease;box-shadow:5px 5px 10px #bebebe, -5px -5px 10px #ffffff;}
#profile-copy-id-btn:active, #profile-copy-email-btn:active, #partner-modal-copy-id-btn:active{box-shadow:inset 3px 3px 6px #bebebe, inset -3px -3px 6px #ffffff;}
#profile-copy-id-btn svg, #profile-copy-email-btn svg, #partner-modal-copy-id-btn svg{fill:#555;width:20px;height:20px;display:block;}
.profile-blocked-frame strong{text-align:center;font-size:1.1rem;color:#444;margin-bottom:10px;display:block;}
#blocked-users-list{max-height:150px;overflow-y:auto;background:#f0f2f5;border-radius:10px;border:none;width:100%;box-shadow:inset 4px 4px 8px #bebebe, -4px -4px 8px #ffffff;padding:5px;}
.blocked-user-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #e0e0e0;}
.unblock-btn{font-size:0.8rem;padding:6px 12px;background:#f0f2f5;border-radius:8px;color:var(--wa-link-color);border:none;cursor:pointer;box-shadow:3px 3px 6px #bebebe, -3px -3px 6px #ffffff;}
.unblock-btn:active{box-shadow:inset 2px 2px 4px #bebebe, inset -2px -2px 4px #ffffff;}
.profile-button-group{display:flex;flex-direction:column;gap:15px;margin-top:10px;width:100%;}
.name-with-badge{display:flex;align-items:center;overflow:hidden;}
.item-name-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2;}
#custom-confirm-modal .neumorphism-modal-content, #custom-alert-modal .neumorphism-modal-content, #verified-info-modal .neumorphism-modal-content, #message-options-modal .neumorphism-modal-content{background:#f0f2f5;border-radius:20px;padding:30px 25px;box-shadow:12px 12px 24px #bebebe, -12px -12px 24px #ffffff;width:90%;max-width:360px;display:flex;flex-direction:column;gap:25px;transform:scale(1);transition:transform 0.3s ease-out, opacity 0.3s ease-out;}
#custom-confirm-modal.hidden .neumorphism-modal-content, #custom-alert-modal.hidden .neumorphism-modal-content, #verified-info-modal.hidden .neumorphism-modal-content, #message-options-modal.hidden .neumorphism-modal-content{transform:scale(0.95);opacity:0;}
#custom-confirm-message, #custom-alert-message{font-size:1.1rem;text-align:center;color:#555;line-height:1.5;font-weight:500;word-wrap:break-word;}
#custom-alert-message{color:var(--call-end-red);}
.neumorphism-button-group{display:flex;justify-content:space-between;gap:20px;}
.neumorphism-button-group.vertical{flex-direction:column;gap:15px;}
.neumorphism-button-group button{flex:1;padding:15px;background:#f0f2f5;border:none;outline:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;}
.neumorphism-button-group button:hover{box-shadow:8px 8px 16px #bebebe, -8px -8px 16px #ffffff;}
.neumorphism-button-group button:active{box-shadow:inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;}
#custom-confirm-btn-yes{color:var(--call-end-red);}
#custom-confirm-btn-no{color:#555;}
#custom-alert-btn-ok, #verified-info-btn-ok{color:#555;}
#msg-opt-delete-everyone{color:var(--call-end-red);}
#msg-opt-delete-me{color:#555;}
#msg-opt-copy{color:var(--wa-button-color);}
#msg-opt-cancel{color:#888;}
.verified-badge{display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;width:0.85em;height:0.85em;background-color:var(--wa-accent-blue);border-radius:50%;margin-left:5px;box-sizing:border-box;cursor:pointer;z-index:20;}
.verified-badge svg{width:70%;height:70%;fill:white;stroke:none;}
#profile-view-name .verified-badge{width:0.8em;height:0.8em;}
#notification-container{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);z-index:10000;display:flex;flex-direction:column;align-items:center;pointer-events:none;max-width:90%;}
.custom-notification{background-color:rgba(17, 27, 33, 0.9);color:white;padding:12px 20px;border-radius:20px;margin-top:10px;font-size:0.95rem;box-shadow:0 4px 10px rgba(0, 0, 0, 0.2);opacity:0;transition:opacity 0.3s ease-in-out, transform 0.3s ease-in-out;transform:translateY(100%);text-align:center;pointer-events:all;display:flex;align-items:center;gap:10px;}
.custom-notification.show{opacity:1;transform:translateY(0);}
.notification-action-buttons{display:flex;gap:8px;margin-left:10px;}
.notification-action-buttons button{background:none;border:1px solid white;color:white;padding:4px 10px;border-radius:12px;font-size:0.85rem;cursor:pointer;pointer-events:all;}
.notification-action-buttons button:hover{background-color:rgba(255, 255, 255, 0.2);}
#custom-prompt-modal{background:rgba(0, 0, 0, 0.6);}
#custom-prompt-modal .modal-content{background:#f0f2f5;}
#notification-btn{position:relative;}
#notification-badge{position:absolute;top:6px;right:6px;width:18px;height:18px;font-size:0.7rem;line-height:18px;padding:0;padding-top:1px;}
#notification-view{background-color:#f0f2f5;flex-direction:column;justify-content:flex-start;z-index:70;}
.neumorphism-header{display:flex;align-items:center;padding:12px 16px;background-color:#f0f2f5;flex-shrink:0;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;position:relative;color:#555; width: 100%;}
.neumorphism-header h2{flex:1;text-align:center;font-weight:700;font-size:1.25rem;margin-left:-44px;}
.neumorphism-icon-btn{background:#f0f2f5;border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;z-index:10;}
.neumorphism-icon-btn:active{box-shadow:inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;}
.neumorphism-icon-btn svg{width:24px;height:24px;fill:#555;}
#notification-list-content{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:20px;}
.notification-item{background:#f0f2f5;border-radius:15px;padding:18px 22px;box-shadow:8px 8px 16px #bebebe, -8px -8px 16px #ffffff;color:#555;display:flex;flex-direction:column;gap:8px;position:relative;padding-right:50px;}
.notification-item-text{font-size:1rem;line-height:1.4;word-wrap:break-word;}
.notification-item-time{font-size:0.8rem;color:#888;text-align:right;}
#no-notifications-msg{text-align:center;color:var(--wa-text-secondary);margin-top:40px;font-size:1rem;}
.notif-delete-btn{position:absolute;top:50%;right:15px;transform:translateY(-50%);width:32px;height:32px;background:#f0f2f5;border:none;border-radius:50%;font-size:1.4rem;color:#999;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:4px 4px 8px #bebebe, -4px -4px 8px #ffffff;transition:all 0.2s ease-in-out;line-height:1;}
.notif-delete-btn:hover{color:var(--call-end-red);}
.notif-delete-btn:active{box-shadow:inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;}
#support-fab-btn{position:absolute;bottom:25px;right:25px;width:60px;height:60px;background:#f0f2f5;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:8px 8px 16px #bebebe, -8px -8px 16px #ffffff;z-index:100;transition:transform 0.2s ease;}
#support-fab-btn:active{box-shadow:inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;transform:scale(0.95);}
#support-fab-btn svg{width:30px;height:30px;fill:#555;}

/* SUPPORT VIEW UPDATES FOR FIXED HEADER */
#support-view{background-color:#f0f2f5;flex-direction:column;z-index:80;height:100dvh;}
#support-messages{flex:1 1 auto; overflow-y:scroll; padding:20px; display:flex; flex-direction:column; gap:15px; overscroll-behavior: contain;}
.support-bubble{padding:12px 18px;border-radius:15px;max-width:80%;word-wrap:break-word;color:#555;font-size:0.95rem;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;}
.support-bubble.sent{align-self:flex-end;background:#f0f2f5;border-bottom-right-radius:2px;}
.support-bubble.received{align-self:flex-start;background:#e6e6e6;border-bottom-left-radius:2px;}
#support-input-container{padding:15px 20px;display:flex;align-items:center;gap:15px;background:#f0f2f5;box-shadow:0 -4px 12px rgba(0,0,0,0.05);flex-shrink:0;width:100%;}
#support-input{flex:1;padding:15px;border:none;outline:none;background:#f0f2f5;border-radius:25px;color:#555;box-shadow:inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;}
#support-send-btn{width:50px;height:50px;border:none;border-radius:50%;background:#f0f2f5;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:6px 6px 12px #bebebe, -6px -6px 12px #ffffff;transition:all 0.2s;}
#support-send-btn:active{box-shadow:inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;}
#support-send-btn svg{width:24px;height:24px;fill:#555;margin-left:4px;}
#calculator-lock-view{width:100%;height:100%;max-width:450px;max-height:950px;background-color:#f0f2f5;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;padding:20px;z-index:50;position:absolute;top:0;left:0;}
#calculator-screen{width:100%;height:120px;background:#f0f2f5;border-radius:15px;margin-bottom:20px;box-shadow:inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;font-size:3rem;text-align:right;padding:20px;color:#444;overflow-x:auto;white-space:nowrap;line-height:80px;}
.calculator-buttons{width:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;}
.calc-btn{width:100%;height:75px;border-radius:20px;background-color:#f0f2f5;box-shadow:6px 6px 12px #bebebe,-6px -6px 12px #ffffff;border:none;font-size:1.8rem;font-weight:500;color:#555;cursor:pointer;transition:all 0.2s ease-in-out;}
.calc-btn:active{box-shadow:inset 4px 4px 8px #bebebe,inset -4px -4px 8px #ffffff;}
.calc-btn.operator{color:var(--wa-header-bg);font-weight:700;}
.calc-btn.equals{background-color:var(--wa-button-color);color:white;font-size:2rem;box-shadow:6px 6px 12px #88ff88,-6px -6px 12px #ffffff;}
.calc-btn.equals:active{box-shadow:inset 4px 4px 8px #008800,inset -4px -4px 8px #33ff33;}
#pin-setup-modal .modal-content{background:#f0f2f5;box-shadow:12px 12px 24px #bebebe,-12px -12px 24px #ffffff;}
#pin-input-field{width:100%;padding:15px;margin:20px 0 10px;border:none;border-radius:10px;box-shadow:inset 6px 6px 12px #bebebe,inset -6px -6px 12px #ffffff;font-size:1.5rem;text-align:center;letter-spacing:5px;}
#set-pin-button{width:100%;padding:15px;background:var(--wa-button-color);color:white;border:none;outline:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;box-shadow:6px 6px 12px #88ff88,-6px -6px 12px #ffffff;transition:all 0.2s ease-in-out;}
#set-pin-button:hover{box-shadow:8px 8px 16px #88ff88,-8px -8px 16px #ffffff;}
#set-pin-button:active{box-shadow:inset 6px 6px 12px #008800,inset -6px -6px 12px #33ff33;}
#pin-setup-error{color:var(--call-end-red);font-size:0.9rem;text-align:center;min-height:1.2em;}